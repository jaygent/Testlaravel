

## Тестовое задание по Laravel:

Необходимо создать простое REST API на основе фреймворка Laravel для управления проектами и задачами со следующей структурой моделей:

- Стандартный Пользователь Ларавел User
  - Проект Project
    - Задача Task

Поля модели Проекта Project:
1. id
2. name (string, не пустое)
3. description (text, необязательное, по-умолчанию пустое)
4. user_id (ссылается на ID пользователя, обязательное, не пустое)

Поля модели Задачи Task:
1. id
2. name (string, не пустое)
3. description (text, необязательное, по-умолчанию пустое)
4. user_id (ссылается на ID пользователя, обязательное, не пустое)
5. project_id (ссылается на ID проекта, обязательное, не пустое)
6. статус (enum, ['backlog', 'wip', 'done', 'canceled'], по-умолчанию = backlog)

Создание структуры моделей в БД нужно выполнить с помощью миграций Laravel.

Нужно реализовать следующие методы API для управления этими моделями:
```
    [GET] /api/user/{id}
       отдаёт JSON объект пользователя c ID = {id}, без поля "пароль"

	[GET] /api/user/{id}/projects
		принимает GET параметр search
        отдаёт массив моделей проектов пользователя.
        Если передан GET параметр search - дополнительно фильтруетпроекты по 
        вхождению искомой строки search в названии проекта

	[GET] /api/projects/{id}
		отдёт JSON объект проекта с ID = {id}

	[GET] /api/projects/{id}/simple-tasks-list
		принимает GET параметр user_id
		отдаёт массив задач в проекте, каждая задача в массиве должна иметь вид [ 'id', 'название', 'ID пользователя', 'статус' ]. 
        Если передан GET параметр user_id - дополнительно фильтрует задачи по принадлежности пользователю с id = user_id

	[POST] /api/projects
		Принимает параметры 
			user_id, (обязательный, валидный)
			name, (обязательный)
			description (необязательный)

		Создаёт и возвращает объект нового проекта с переданными параметрами, либо ошибку валидации (user_id), либо ошибку создания

	[POST] /api/projects/{id}/tasks
		Принимает параметры
			user_id, (обязательный, валидный)
			name, (обязательный)
			description, (необязательный)
			status (необязательный)

		Создаёт и возвращает объект новой задачи привязанной к проекту {id}, 
        либо ошибку валидации (user_id, project_id), либо ошибку создания

	[PUT] /api/projects/{id}
		Принимает параметры 
			user_id, (обязательный, валидный)
			name, (обязательный)
			description (необязательный)

		Редактирует и возвращает новый объект проекта {id}, либо ошибку валидации (user_id), либо ошибку обновления

	[PUT] /api/projects/{id}/tasks/{task_id}
		Принимает параметры
			user_id, (обязательный, валидный)
			name, (обязательный)
			description, (необязательный)
			status (необязательный)

		Редактирует и возвращает новый объект задачи {task_id}, либо ошибку валидации (user_id, project_id),
        либо ошибку обновления

	[DELETE] /api/projects/{id}
		Удаляет проект {id}, возвращает { 'success': true } в случае успеха, либо ошибку

	[DELETE] /api/projects/{id}/tasks/{task_id}
		Удаляет задачу {task_id} в проекте {id}, возвращает { 'success': true } в случае успеха, либо ошибку
```

    
Последним шагом необходимо реализовать команду (Laravel Command) CleanUpTasks, с необязательным аргументом --date_lte в формате "YYYY-mm-dd", по-умолчанию равный "текущая дата минус 30 дней",
которая будет искать и удалять в БД задачи со статусом 'backlog', созданные раньше даты --date_lte.
Эту команду нужно добавить в расписание Laravel для автоматического выполнения каждый день в 09:45, с записью логов выполнения в /storage/logs/clean-up-tasks.log